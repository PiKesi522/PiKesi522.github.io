<!DOCTYPE HTML>
<!--
	Striped by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
    <title>PiKesi's Home on the Internet</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/assets/css/main.css" />
    <script src="https://cdn.jsdelivr.net/npm/showdown@1.9.1/dist/showdown.min.js"></script>

</head>

<body class="is-preload">

    <!-- Content -->
    <div id="content">
        <div class="inner">
        </div>
    </div>


	<!-- Sidebar -->
	<div id="sidebar">
		<script>
			fetch('/sidebar.html')
				.then(response => response.text())
				.then(data => {
					// 获取文本字符串中的每一行
					const lines = data.split('\n');
					// 修改第三行
					lines[15] = "        <li class='current'><a href='/projects.html'>Projects & Papers</a></li>\n";
					// 将修改后的文本字符串重新加载到myDiv元素中
					document.getElementById('sidebar').innerHTML = lines.join('');
				});
		</script>
	</div>

    <!-- Scripts -->
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/browser.min.js"></script>
    <script src="/assets/js/breakpoints.min.js"></script>
    <script src="/assets/js/util.js"></script>
    <script src="/assets/js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <script>
        function getMarkdownContent(title) {
            return new Promise(function (resolve, reject) {
                $.ajax({
                    url: "./" + title + ".md",
                    success: function (markdownContent) {
                        resolve(markdownContent);
                    },
                    error: function () {
                        reject("Unable to get Markdown content.");
                    }
                });
            });
        }

        var mdList = [
            { name: "数据结构1", title: "Data Structure", filename:"main" },
            { name: "数据结构2", title: "Algorithm", filename:"main"},
            { name: "数据结构3", title: "Artificial Intelligence", filename:"main" }
        ];

        mdList.forEach(function (md) {
            var articleElement = $("<article></article>").addClass("box post post-excerpt");
            var headerElement = $("<header></header>");
            var h2Element = $("<h2></h2>").text(md.name);
            var pElement = $("<p></p>").text(md.title);
            var infoElement = $("<div></div>").addClass("info");
            var dateElement = $("<span></span>").addClass("date");
            var monthElement = $("<span></span>").addClass("month").text("Apr");
            var dayElement = $("<span></span>").addClass("day").text("14");
            var yearElement = $("<span></span>").addClass("year").text("2023");
            var mainContentElement = $("<div></div>").attr("id", md.name + "-content");

            dateElement.append(monthElement).append(dayElement).append(yearElement);
            infoElement.append(dateElement);
            headerElement.append(h2Element).append(pElement);
            articleElement.append(headerElement).append(infoElement).append(mainContentElement);

            // $(".inner").append(articleElement);
            $("#content .inner").append(articleElement);

            getMarkdownContent(md.filename)
            .then(function (markdownContent) {
                var htmlContent = marked(markdownContent);
                $("#" + md.filename + "-content").html(htmlContent);
            })
            .catch(function (error) {
                console.error(error);
            });
        });
    </script>

</body>

</html>