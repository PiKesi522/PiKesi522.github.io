<!DOCTYPE HTML>
<!--
	Striped by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>PiKesi's Home on the Internet</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />

</head>

<body class="is-preload">

	<!-- Content -->
	<div id="content">
		<div class="inner">

		</div>
	</div>

	<!-- Sidebar -->
	<div id="sidebar">
		<script>
			fetch('sidebar.html')
				.then(response => response.text())
				.then(data => {
					// 获取文本字符串中的每一行
					const lines = data.split('\n');
					// 修改第三行
					lines[13] = "        <li class='current'><a href='/life.html'>Records & Thoughts</a></li>\n";
					// 将修改后的文本字符串重新加载到myDiv元素中
					document.getElementById('sidebar').innerHTML = lines.join('');
				});
		</script>
	</div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

	<script>
		const articleList = [
			//  落幕
			{
				name: "落幕",
				title: "Say Goodbye",
				filename: "RDRII",
				photo: "图源网络",
				year: 2023,
				month: "Mar",
				day: 3,
				content: "但我想，唯独关于后悔，我想是不后悔，那段时光那么美好， 每天都有新的想法新的期待冒出来，下午两点醒来，舍友都去上课， 阳光从窗帘的缝隙射进来，一寝室外卖垃圾灰尘无所遁形，打游戏打到早上五点， 即便如此我依然觉得未来可期 再来一次，我还是会选择挥霍大把的时光"
			},
			// 猫与皮套人
			{
				name: "猫与皮套人",
				title: "Cats",
				filename: "2022Birthday",
				photo: "图源网络",
				year: 2022,
				month: "May",
				day: 22,
				content: "猫和皮套人是那么的相像，脱离了人，他们都无法生存，必须依靠着人才能存在， 这也意味着他们的生命是依赖于人的施舍，终其一生只能依赖于人的恩赐。 而如果身为人存活也是依靠他人，那倒不如退化成猫与皮套人反而更能惹人欢心。"
			},
			// 黑暗之魂
			{
				name: "黑暗之魂与宫崎英高的世界",
				title: "A Living World, a dying world",
				filename: "DarkSouls",
				photo: "图源网络",
				year: 2022,
				month: "Apr",
				day: 29,
				content: '"But then there was Fire. And with Fire, came Disparity. Heat and cold, life and death, and of course... Light and Dark. Then, from the Dark, They came, and found the Souls of Lords within the flame."'
			},
			// 死亡搁浅
			{
				name: "《死亡搁浅》的游戏体验",
				title: "Connect the world",
				filename: "DeathStranding",
				photo: "图源网络",
				year: 2021,
				month: "Dec",
				day: 20,
				content: '“绳索”与“棍棒”是人类最早发明的两种工具。绳索可以将好东西收归在身边， 棍棒则可以抵挡麻烦。两者皆是我们最早的朋友，皆由我们创造。 有人的地方，就有绳索与棍棒。——安部公房《绳》'
			},
			// 西方马克思
			{
				name: "西方马克思与法兰克福学派",
				title: "Western Maxism",
				filename: "WesternMaxism",
				photo: "2022-成都 武侯祠",
				year: 2021,
				month: "Jun",
				day: 18,
				content: "包含四本西方马克思的著作读后感：卢卡奇《什么是正统马克思》； 阿多诺《文化工业：作为大众启蒙的欺骗》；马尔库塞《论新感性》；萨特《存在主义是一种人道主义》。"
			},
			// 超人
			{
				name: "从超人审视个人英雄主义",
				title: "Super Man or Super Hero",
				filename: "Superman",
				photo: "2019-重庆 洪崖洞",
				year: 2020,
				month: "Dec",
				day: 24,
				content: 'Kenny Rogers在《The Last Ten Year》中反复提及超人，也许是因为他为了悼念超人的扮演者的逝去而感到悲伤。 但在我看来，他反复强调的用意更是在于，早从2006年开始，超人所代表的那种个人英雄主义已经被现代所完全误读， 超人的精神正在“死去”，只留下的是一具躯壳。但是在他创作的那个年代， 还有着美国依然残有的帝国荣光，或许他看到现在的超级英雄，现在的美利坚，应该就算提起笔，也空有一阵震耳欲聋的死寂了。'
			},
		];

		const URLList = ['name', 'title', 'filename'];

		function encodeURLParams(params) {
			let encodedParams = "";
			for (let key in params) {
				if (params.hasOwnProperty(key) && URLList.includes(key)) {
					encodedParams += `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}&`;
				}
			}
			return encodedParams.slice(0, -1); // 去除最后一个 '&'
		}

		function renderArticle(article) {
			return new Promise((resolve, reject) => {
				const articleElement = $("<article></article>").addClass("box post post-excerpt");
				const headerElement = $("<header></header>");
				const h2Element = $("<h2></h2>").append($("<a></a>").attr("href", "/markdown/main.html?" + encodeURLParams(article)).text(article.name));
				const pElement = $("<p></p>").text(article.title);
				const infoElement = $("<div></div>").addClass("info");
				const dateElement = $("<span></span>").addClass("date");
				const yearElement = $("<span></span>").addClass("year").text(article.year);
				const monthElement = $("<span></span>").addClass("month").text(article.month);
				const dayElement = $("<span></span>").addClass("day").text(article.day);
				const featuredImageElement = $("<a></a>").attr("href", "/markdown/main.html?" + encodeURLParams(article)).addClass("image featured").append($("<img/>").attr("src", `markdown/${article.filename}/head.jpg`).attr("alt", ""));
				const photoInfo = article.photo.split("-");
				const photoElement = $('<div></div>').css({
					'text-align': 'center',
					'margin': '0 0 1.5em 0'
				}).html(photoInfo[0] + ' 于 <strong>复旦大学 光华楼</strong>');
				const contentElement = $("<div></div>").css("text-indent", "2em").html(article.content);

				dateElement.append(monthElement).append(dayElement).append(yearElement);
				infoElement.append(dateElement);

				headerElement.append(h2Element).append(pElement);
				articleElement.append(headerElement).append(infoElement).append(featuredImageElement).append(contentElement);

				resolve(articleElement);
			});
		}

		const articlePromises = articleList.map((article) => renderArticle(article));
		Promise.all(articlePromises)
			.then((articles) => {
				articles.forEach((article) => {
					$("#content .inner").append(article);
				});
				console.log("All articles have been rendered!");
			})
			.catch((error) => {
				console.error("Error rendering articles:", error);
			});

	</script>

</body>

</html>