<!DOCTYPE HTML>
<!--
	Striped by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>PiKesi's Home on the Internet</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<script>
		const folderUrl = "MainPage/";
		const xhr = new XMLHttpRequest();
		xhr.onreadystatechange = function () {
			if (this.readyState === 4 && this.status === 200) {
				const folderContent = xhr.responseText;
				const jpgFileRegex = /<a href="\/MainPage\/([^"]+\.jpg)"[^>]*>/g;
				const jpgFiles = folderContent.match(jpgFileRegex);
				const randomIndex = Math.floor(Math.random() * jpgFiles.length);
				const selectedJpgFile = jpgFiles[randomIndex];
				const selectedJpgFilePath = folderUrl + decodeURIComponent(selectedJpgFile);
				console.log("Selected JPG file name: ", decodeURIComponent(selectedJpgFile));
				console.log("Selected JPG file path: ", selectedJpgFilePath);

				// Update the image element and date/location elements with the selected values
				const imgElement = document.querySelector(".random-display img");
				imgElement.src = selectedJpgFilePath;
				
				const photoInfo = decodeURIComponent(selectedJpgFile).split("-");
				const selectedYear = photoInfo[0]; // Replace with actual year
				const selectedLocation = photoInfo[1] + " " + photoInfo[2]; // Replace with actual location
				const yearElement = document.querySelector(".random-display .year");
				yearElement.textContent = selectedYear;
				const locationElement = document.querySelector(".random-display .location");
				locationElement.textContent = selectedLocation;
			}
		};
		xhr.open("GET", folderUrl);
		xhr.send();
	</script>
</head>

<body class="is-preload">

	<!-- Content -->
	<div id="content">
		<div class="inner">

			<!-- 我的第一个博客 -->
			<article class="box post post-excerpt">
				<header>
					<h2>欢迎来到我的博客！！！</h2>
					<p>WELCOME TO MY BLOG!!!</p>
				</header>
				<div class="info">
					<span class="date">
						<span class="day">Top</span>
					</span>

				</div>
				<div class="random-display">
					<a class="image featured" href="">
						<img width="1000px" height="500px" src="" alt="" />
					</a>
					<div style="text-align: center; margin: 0 0 1.5em 0;"><span class="year"></span> 于 <strong><span
								class="location"></span></strong></div>
				</div>
				<div style=" text-indent:2em">
					<strong>Hello!</strong> Welcome to <strong> my website</strong>,
					a blog that is completely maintained and operated by myself.
					It not only includes my technical thoughts and study notes,
					but also records and reflections on life.
					Your continued attention and support are welcome!
					<br>
				</div>
				<div style=" text-indent:2em; margin-top: 1em;">
					<strong>你好！</strong>欢迎来到<strong>我的网站</strong>，
					这是一个完全由本人维护和撰写的博客。不仅用于记录技术想法和学习笔记，
					更多记录了对生活的感悟和反思。欢迎您的关注和支持！
					<br>
				</div>
			</article>
		</div>
	</div>

	<!-- Sidebar -->
	<div id="sidebar">
		<script>
			fetch('/sidebar.html')
				.then(response => response.text())
				.then(data => {
					document.getElementById('sidebar').innerHTML = data;
				});
		</script>
	</div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

</body>

</html>