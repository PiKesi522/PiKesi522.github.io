<!DOCTYPE HTML>
<!--
	Striped by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>PiKesi's Home on the Internet</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<style>
	</style>
</head>

<body class="is-preload">

	<!-- Content -->
	<div id="content">
		<div class="inner">

		</div>
	</div>

	<!-- Sidebar -->
	<div id="sidebar">
		<script>
			fetch('sidebar.html')
				.then(response => response.text())
				.then(data => {
					// 获取文本字符串中的每一行
					const lines = data.split('\n');
					// 修改第三行
					lines[14] = "        <li class='current'><a href='/note.html'>Work & Study</a></li>\n";
					// 将修改后的文本字符串重新加载到myDiv元素中
					document.getElementById('sidebar').innerHTML = lines.join('');
				});
		</script>
	</div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

	<script>
		const articleList = [
			//  博客技术
			{
				name: "博客技术",
				title: "Blog Tech.",
				filename: "Blog",
				photo: "2022-杭州 西湖",
				content: "但我想，唯独关于后悔，我想是不后悔，那段时光那么美好， 每天都有新的想法新的期待冒出来，下午两点醒来，舍友都去上课， 阳光从窗帘的缝隙射进来，一寝室外卖垃圾灰尘无所遁形，打游戏打到早上五点， 即便如此我依然觉得未来可期 再来一次，我还是会选择挥霍大把的时光"
			},
			// 数据结构
			{
				name: "数据结构",
				title: "Data Structure",
				filename: "DataStructure",
				photo: "2022-华东师范大学 文史楼",
				content: "猫和皮套人是那么的相像，脱离了人，他们都无法生存，必须依靠着人才能存在， 这也意味着他们的生命是依赖于人的施舍，终其一生只能依赖于人的恩赐。 而如果身为人存活也是依靠他人，那倒不如退化成猫与皮套人反而更能惹人欢心。"
			},
			// 计算机网络
			{
				name: "计算机网络",
				title: "Computer Networking",
				filename: "ComputerNetworking",
				photo: "2019-复旦大学 光华楼",
				content: '"But then there was Fire. And with Fire, came Disparity. Heat and cold, life and death, and of course... Light and Dark. Then, from the Dark, They came, and found the Souls of Lords within the flame."'
			},
			// 操作系统
			{
				name: "操作系统",
				title: "Operating System",
				filename: "OperatingSystem",
				photo: "2019-上海交通大学 思源湖",
				content: '“绳索”与“棍棒”是人类最早发明的两种工具。绳索可以将好东西收归在身边， 棍棒则可以抵挡麻烦。两者皆是我们最早的朋友，皆由我们创造。 有人的地方，就有绳索与棍棒。——安部公房《绳》'
			},
			// 计算机组成与结构
			{
				name: "计算机组成与结构",
				title: "Computer Organization and Structure",
				filename: "ComputerOrgnization",
				photo: "2023-香港大学 前",
				content: "包含四本西方马克思的著作读后感：卢卡奇《什么是正统马克思》； 阿多诺《文化工业：作为大众启蒙的欺骗》；马尔库塞《论新感性》；萨特《存在主义是一种人道主义》。"
			},
		];

		const URLList = ['name', 'title', 'filename'];

		function encodeURLParams(params) {
			const encodedParams = `${encodeURIComponent("filename")}=${encodeURIComponent(params["filename"])}`;
			return encodedParams; // 去除最后一个 '&'
		}

		function renderArticle(article) {
			return new Promise((resolve, reject) => {
				const articleElement = $("<article></article>").addClass("box post post-excerpt").css({
					// "box-shadow":"0px 0px 10px #ccc",
					// "padding":"0px 4em 2em 4em",
					// "border-radius":"5px"
				});
				const headerElement = $("<header></header>").css("padding", "0");
				// const h2Element = $("<h2></h2>").append($("<a></a>").attr("href", `notes/${article.filename}/main.html?`).text(article.name));
				const h2Element = $("<h2></h2>").append($("<a></a>").attr("href", "/notes/main.html?" + encodeURLParams(article)).text(article.name));
				const pElement = $("<p></p>").text(article.title);
				const infoElement = $("<div></div>").addClass("info");
				const dateElement = $("<span></span>").addClass("date");
				// const featuredImageElement = $("<a></a>").attr("href", `notes/${article.filename}/main.html?`).addClass("image featured").append($("<img/>").attr("src", `notes/${article.filename}/head.jpg`).attr("alt", ""));
				const featuredImageElement = $("<a></a>").attr("href", "/notes/main.html?" + encodeURLParams(article)).addClass("image featured").append($("<img/>").attr("src", `notes/${article.filename}/head.jpg`).attr("alt", ""));
				const photoInfo = article.photo.split("-");
				var photoElement;
				if (article.photo === "图源网络") {
					photoElement = $('<div></div>').css({
						'text-align': 'center',
						'margin': '0 0 1.5em 0'
					}).html("图源网络");
				}
				else {
					photoElement = $('<div></div>').css({
						'text-align': 'center',
						'margin': '0 0 5em 0'
					}).html(photoInfo[0] + ' 于 <strong>' + photoInfo[1] + '</strong>');
				}
				const contentElement = $("<hr>").css({

					"border-color": "#ccc",
					"border-width": "10px",
				});


				headerElement.append(h2Element).append(pElement);
				articleElement.append(headerElement).append(featuredImageElement).append(photoElement).append(contentElement);

				resolve(articleElement);
			});
		}

		const articlePromises = articleList.map((article) => renderArticle(article));
		Promise.all(articlePromises)
			.then((articles) => {
				articles.forEach((article) => {
					$("#content .inner").append(article);
				});
				console.log("All articles have been rendered!");
			})
			.catch((error) => {
				console.error("Error rendering articles:", error);
			});

	</script>

</body>

</html>