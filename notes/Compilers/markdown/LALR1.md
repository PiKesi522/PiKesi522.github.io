

### LALR1分析表构造过程：扩展文法 > 项目 > 带向前搜索符<u>【合并同类】</u>项目集规范族 > 分析表  

LALR1需要解决的是LR1文法中，同样规则集合的状态，但是由于向前搜索符不同，导致分为两个状态的问题。

-----

在之前的LR1中，我们得到了以下的分析图：

![image-20230425154554408](.\img\image-20230425154554408.png)

在上图中，我们可以看到I3和I6，I4和I7，I8和I9的项目集合是一样的，差异在于两者的向前搜索符号不一样，对此，LALR的操作如下：

~~~
将 I3 和 I6 并为 I36：
B -> a·B  , #|a|b
B -> ·aB  , #|a|b
B -> ·b   , #|a|b

将 I4 和 I7 并为 I47：
B -> b·   , #|a|b

将 I8 和 I9 并为 I89：
B -> aB·   , #|a|b
~~~

将修改过后的结果作LALR1分析表：

![image-20230425171803854](.\img\image-20230425171803854.png)

|      | ACTION |      |      | GOTO |      |
| :--: | :----: | :--: | :--: | :--: | :--: |
|      |   a    |  b   |  #   |  S   |  B   |
|  0   |  S36   | S47  |      |  1   |  2   |
|  1   |        |      | ACC. |      |      |
|  2   |  S36   | S47  |      |      |  5   |
|  36  |  S36   | S47  |      |      |  89  |
|  47  |   R3   |  R3  |  R3  |      |      |
|  5   |        |      |  R1  |      |      |
|  89  |   R2   |  R2  |  R2  |      |      |

